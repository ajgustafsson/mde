<?xml version="1.0" encoding="ASCII"?>
<G2:MainSystem
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:G2="Group2"
    xsi:schemaLocation="Group2 engine.ecore">
  <workflows
      name="w1">
    <nodes xsi:type="G2:Task"
        name="CustomerWantsABankLoan"
        start="true"
        transition="//@workflows.0/@nodes.1"
        Description="Welcome to our bank."
        data=""/>
    <nodes xsi:type="G2:Simple"
        name="first"
        previousTasks="//@workflows.0/@nodes.0"
        task="//@workflows.0/@nodes.2"/>
    <nodes xsi:type="G2:Task"
        name="IsCustomerCreditWorthy"
        transition="//@workflows.0/@nodes.3"
        Description="Check if the customer is credit worthy: [0 if not worthy, 1 if worthy]"
        previousTasks="//@workflows.0/@nodes.0"/>
    <nodes xsi:type="G2:IfElse"
        name="CreditWorthy"
        previousTasks="//@workflows.0/@nodes.2"
        tasks="//@workflows.0/@nodes.4 //@workflows.0/@nodes.5"/>
    <nodes xsi:type="G2:Task"
        name="Denied"
        transition="//@workflows.0/@nodes.19"
        Description="Not credit worthy, no bank loan."
        previousTasks="//@workflows.0/@nodes.2"/>
    <nodes xsi:type="G2:Task"
        name="SizeOfBankLoan"
        transition="//@workflows.0/@nodes.6"
        Description="How much money can the customer loan?"
        previousTasks="//@workflows.0/@nodes.2"/>
    <nodes xsi:type="G2:Simple"
        name="second"
        previousTasks="//@workflows.0/@nodes.5"
        task="//@workflows.0/@nodes.7"/>
    <nodes xsi:type="G2:Task"
        name="TypeOfLoan"
        transition="//@workflows.0/@nodes.8"
        Description="Choose which type. [0 - for comsumable loan, 1 - for car loan, 2 - for house loan]"
        previousTasks="//@workflows.0/@nodes.5"/>
    <nodes xsi:type="G2:Switch"
        name="type"
        previousTasks="//@workflows.0/@nodes.7"
        tasks="//@workflows.0/@nodes.9 //@workflows.0/@nodes.10 //@workflows.0/@nodes.11"/>
    <nodes xsi:type="G2:Task"
        name="Consumable"
        transition="//@workflows.0/@nodes.12"
        Description="Do procedure for consumable loan..."
        previousTasks="//@workflows.0/@nodes.7"/>
    <nodes xsi:type="G2:Task"
        name="House"
        transition="//@workflows.0/@nodes.12"
        Description="Do procedure for House loan...."
        previousTasks="//@workflows.0/@nodes.7"/>
    <nodes xsi:type="G2:Task"
        name="Car"
        transition="//@workflows.0/@nodes.14"
        Description="Handle car loan..."
        previousTasks="//@workflows.0/@nodes.7"/>
    <nodes xsi:type="G2:WaitForOne"
        name="HouseOrConsumeable"
        previousTasks="//@workflows.0/@nodes.9 //@workflows.0/@nodes.10"
        task="//@workflows.0/@nodes.13"/>
    <nodes xsi:type="G2:Task"
        name="OfferHouseOrConsumeable"
        transition="//@workflows.0/@nodes.19"
        Description="Offer House or Consumeable loan."
        previousTasks="//@workflows.0/@nodes.10 //@workflows.0/@nodes.9"/>
    <nodes xsi:type="G2:Split"
        name="handleCar"
        previousTasks="//@workflows.0/@nodes.11"
        tasks="//@workflows.0/@nodes.15 //@workflows.0/@nodes.16"/>
    <nodes xsi:type="G2:Task"
        name="InteresetRate"
        transition="//@workflows.0/@nodes.17"
        Description="Determine interest rate..."
        previousTasks="//@workflows.0/@nodes.11"/>
    <nodes xsi:type="G2:Task"
        name="OtherServices"
        transition="//@workflows.0/@nodes.17"
        Description="Offer other services..."
        previousTasks="//@workflows.0/@nodes.11"/>
    <nodes xsi:type="G2:Merge"
        name="car"
        previousTasks="//@workflows.0/@nodes.15 //@workflows.0/@nodes.16"
        task="//@workflows.0/@nodes.18"/>
    <nodes xsi:type="G2:Task"
        name="OfferCarLoan"
        transition="//@workflows.0/@nodes.19"
        Description="Offer car loan"
        previousTasks="//@workflows.0/@nodes.16 //@workflows.0/@nodes.15"/>
    <nodes xsi:type="G2:WaitForOne"
        name="final"
        previousTasks="//@workflows.0/@nodes.18 //@workflows.0/@nodes.4 //@workflows.0/@nodes.13"
        task="//@workflows.0/@nodes.20"/>
    <nodes xsi:type="G2:Task"
        name="End"
        end="true"
        Description="The End"
        previousTasks="//@workflows.0/@nodes.4 //@workflows.0/@nodes.13 //@workflows.0/@nodes.18"/>
  </workflows>
  <users groups="//@userGroups.0"
      name="Lena"/>
  <users groups="//@userGroups.1"
      name="Leif"/>
  <userGroups
      permissions="//@permissions.0 //@permissions.1"
      name="Bank Employee"/>
  <userGroups
      permissions="//@permissions.1"
      name="Customer"/>
  <permissions
      name="Banking"/>
  <permissions
      name="Public"/>
</G2:MainSystem>
